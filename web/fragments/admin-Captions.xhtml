<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: snouto
  Date: 03/05/2015
  Time: 01:41
-->
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.springframework.org/security/tags"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

<h:body>


    <sec:authorize access="hasRole('ADMIN')">

        <p:tabView dynamic="true" cache="true">

            <p:tab title="Overall Dashboard">


                <div class="row-fluid">
                    <div class="span3">
                        <h3>Total Employees</h3>
                        <p><a href="ShowEmployees.xhtml" class="badge badge-important" style="color:white">#{dashboardBean.totalEmployees}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Archived Files</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{dashboardBean.totalArchivedFiles}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Requested Files</h3>
                        <p><a href="ShowRequests.xhtml" class="badge badge-important" style="color:white">#{dashboardBean.totalNewFiles}</a></p>
                    </div>

                    <div class="span3">
                        <h3>Watch-List Requests</h3>
                        <p><a href="WatchList.xhtml" class="badge badge-important" style="color:white">#{dashboardBean.totalWatchList}</a></p>
                    </div>

                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <h3>In-Sorting Files</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=OUT_OF_CABIN" class="badge badge-important" style="color:white">#{dashboardBean.totalFilesUnderSorting}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Checked Out(Out-Patient)</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=CHECKED_OUT" class="badge badge-important" style="color:white">#{dashboardBean.selectTotalCheckedOutFiles(false)}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Checked Out(In-Patient)</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=CHECKED_OUT" class="badge badge-important" style="color:white">#{dashboardBean.selectTotalCheckedOutFiles(true)}</a></p>
                    </div>
                    <div class="span3">
                        <h3>At Coordinator</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=COORDINATOR_IN" class="badge badge-important" style="color:white">#{dashboardBean.totalReceivedByCoordinator}</a></p>
                    </div>
                </div>

                <div class="row-fluid">

                    <div class="span3">
                        <h3>Processing Coord.</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=PROCESSING_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.totalProcessingCoordinator}</a></p>
                    </div>

                    <div class="span3">
                        <h3>Analysis Coord.</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=ANALYSIS_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.totalAnalysisCoordinator}</a></p>
                    </div>

                    <div class="span3">
                        <h3>Coding Coord.</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=CODING_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.totalCodingCoordinator}</a></p>
                    </div>

                    <div class="span3">
                        <h3>Incomplete Coord.</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=INCOMPLETE_COORDINATOR" class="badge badge-important"  style="color:white">#{dashboardBean.totalInCompleteCoordinator}</a></p>
                    </div>
                </div>


                <div class="row-fluid">
                    <div class="span3">
                        <h3>At Clinics</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=DISTRIBUTED" class="badge badge-important" style="color:white">#{dashboardBean.totalDistributedFiles}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Received By Receptionist</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=RECEPTIONIST_IN" class="badge badge-important" style="color:white">#{dashboardBean.totalReceivedByReceptionist}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Missing Files</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=MISSING" class="badge badge-important" style="color:white">#{dashboardBean.totalMissingFiles}</a></p>
                    </div>


                    <div class="span3">
                        <h3>Temporary Stored</h3>
                        <p><a href="PrintFiles.xhtml?type=0&amp;status=TEMPORARY_STORED" class="badge badge-important" style="color:white">#{dashboardBean.totalTemporaryStored}</a></p>
                    </div>
                </div>


            </p:tab>



            <p:tab title="Filterable Dashboard" id="mainFilterableTab" >




                <h:panelGrid columns="1" id="parentContainerFilterable" cellpadding="5">



                    <p:outputPanel  id="customPanel" style="margin-bottom:10px">

                        <p:selectOneRadio id="customRadio" value="#{metrics.option}" converter="javax.faces.Integer" layout="custom">

                            <p:ajax event="change" update="parentContainerFilterable" listener="#{metrics.onRadioChange}"/>
                            <f:selectItem itemLabel="Appointment Date" itemValue="0" />
                            <f:selectItem itemLabel="Operation Date" itemValue="1" />
                            <f:selectItem itemLabel="Clinic" itemValue="2" />
                        </p:selectOneRadio>

                        <h:panelGrid columns="3"  cellpadding="5">
                            <p:radioButton id="opt1"  for="customRadio" itemIndex="0" />
                            <h:outputLabel for="opt1" value="Appointment Date" />
                            <p:calendar value="#{metrics.appointmentDate}" showOn="button">
                            <p:ajax event="dateSelect" listener="#{metrics.onDateSelect}" update="parentContainerFilterable" process="@all"/>
                            </p:calendar>

                            <p:radioButton id="opt2"  for="customRadio" itemIndex="1" />
                            <h:outputLabel for="opt2" value="Operation Date" />
                            <p:calendar value="#{metrics.operationDate}" showOn="button">
                                <p:ajax event="dateSelect" listener="#{metrics.onDateSelect}" update="parentContainerFilterable"/>
                            </p:calendar>

                            <p:radioButton id="opt3"  for="customRadio" itemIndex="2" />
                            <h:outputLabel for="opt3" value="Clinic" />
                            <h:panelGrid columns="2" cellpadding="5">

                                <p:inputText value="#{metrics.clinicName}" disabled="true"/>
                                <p:commandButton value="Choose Clinic" actionListener="#{metrics.openSelectClinicDialog}">



                                    <p:ajax event="dialogReturn" listener="#{metrics.onClinicChosen}"
                                            update="parentContainerFilterable"/>

                                </p:commandButton>

                            </h:panelGrid>

                        </h:panelGrid>

                    </p:outputPanel>

                    <p:commandButton value="Filter Dashboard" ajax="false" style="margin-bottom: 10px;"/>


                </h:panelGrid>



                <div class="row-fluid">
                    <div class="span3">
                        <h3>Total Employees</h3>
                        <p><a href="ShowEmployees.xhtml" class="badge badge-important" style="color:white">#{dashboardBean.totalEmployees}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Archived Files</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.archivedFiles}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Requested Files</h3>
                        <p><a href="ShowRequests.xhtml" class="badge badge-important" style="color:white">#{metrics.newRequests}</a></p>
                    </div>

                    <div class="span3">
                        <h3>Watch-List Requests</h3>
                        <p><a href="WatchList.xhtml" class="badge badge-important" style="color:white">#{metrics.watchListRequests}</a></p>
                    </div>

                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <h3>In-Sorting Files</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.inSortingFiles}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Checked Out Files</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.checkedoutFiles}</a></p>
                    </div>
                    <div class="span3">
                        <h3>At Coordinator</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.atCoordinator}</a></p>
                    </div>
                    <div class="span3">
                        <h3>At Clinics</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.atClinics}</a></p>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <h3>Received By Receptionist</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.receivedByReceptionist}</a></p>
                    </div>
                    <div class="span3">
                        <h3>Missing Files</h3>
                        <p><a href="#" class="badge badge-important" style="color:white">#{metrics.missingFiles}</a></p>
                    </div>
                </div>


            </p:tab>

        </p:tabView>

    </sec:authorize>


    <sec:authorize access="hasAnyRole('ANALYSIS_COORDINATOR','INCOMPLETE_COORDINATOR','CODING_COORDINATOR','PROCESSING_COORDINATOR')">

        <div class="row-fluid">
            <div class="span3">
                <h3>Processing Coordinator</h3>
                <p><a href="PrintFiles.xhtml?type=0&amp;status=PROCESSING_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.getFilesForState('PROCESSING_COORDINATOR')}
                </a></p>
            </div>
            <div class="span3">
                <h3>InComplete Coordinator</h3>
                <p><a href="PrintFiles.xhtml?type=0&amp;status=INCOMPLETE_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.getFilesForState('INCOMPLETE_COORDINATOR')}
                </a></p>
            </div>
            <div class="span3">
                <h3>Coding Coordinator</h3>
                <p><a href="PrintFiles.xhtml?type=0&amp;status=CODING_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.getFilesForState('CODING_COORDINATOR')}</a></p>
            </div>
            <div class="span3">
                <h3>Analysis Coordinator</h3>
                <p><a href="PrintFiles.xhtml?type=0&amp;status=ANALYSIS_COORDINATOR" class="badge badge-important" style="color:white">#{dashboardBean.getFilesForState('ANALYSIS_COORDINATOR')}
                </a></p>
            </div>
        </div>

    </sec:authorize>

</h:body>

</html>