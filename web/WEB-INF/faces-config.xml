<?xml version='1.0' encoding='UTF-8'?>
<faces-config version="2.2" xmlns="http://xmlns.jcp.org/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee 
    http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd">



  <!--  <factory>
        <exception-handler-factory>
            com.degla.exceptions.AlfahresApplicationExceptionFactory
        </exception-handler-factory>
    </factory>-->


<application>
    <el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>
    <action-listener>
        org.primefaces.application.DialogActionListener
    </action-listener>
    <navigation-handler>
        org.primefaces.application.DialogNavigationHandler
    </navigation-handler>
    <view-handler>
        org.primefaces.application.DialogViewHandler
    </view-handler>



</application>
    <navigation-rule>
        <from-view-id>/login.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>*</from-view-id>
        <navigation-case>
            <from-outcome>LOGOUT</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>HOMESCREEN</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>EDITCABINET</from-outcome>
            <to-view-id>/admin/UpdateCabinet.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>UPDATEEMPLOYEENOW</from-outcome>
            <to-view-id>/admin/UpdateEmployee.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>CANCELANDSHOWEMPS</from-outcome>
            <to-view-id>/admin/ShowEmployees.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        
        <navigation-case>
            <from-outcome>EDITREQUEST</from-outcome>
            <to-view-id>/admin/EditRequest.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>SUBMITFILES</from-outcome>
            <to-view-id>/admin/ShowRequests.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>SHOWREQUESTS</from-outcome>
            <to-view-id>/admin/ShowRequests.xhtml</to-view-id>
            <redirect/>
        </navigation-case>

        <navigation-case>
            <from-outcome>SHOWWATCHLIST</from-outcome>
            <to-view-id>/admin/WatchList.xhtml</to-view-id>
            <redirect/>
        </navigation-case>


        <navigation-case>
            <from-outcome>CHANGESTATUS</from-outcome>
            <to-view-id>/admin/ChangeFile.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>


    <navigation-rule>
        <from-view-id>/admin/ShowClinics.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>EDIT_CLINIC</from-outcome>
            <to-view-id>/admin/EditClinic.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/admin/ChangeFile.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>BACKTOEDITFILE</from-outcome>
            <to-view-id>/admin/SearchFiles.xhtml</to-view-id>
            <redirect/>

        </navigation-case>
    </navigation-rule>


    <managed-bean>
        <managed-bean-name>cabinetBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.CabinetManagementBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>dashboardBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.DashboardBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>loginBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.LoginBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>registrationBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.RegistrationBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
    </managed-bean>


    <managed-bean>
        <managed-bean-name>requestsBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.AppointmentsBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>dashboardBean</property-name>
            <value>#{dashboardBean}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>roleBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.RoleManagementBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>searchRequestsBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.SearchAppointmentsBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
    </managed-bean>


    <managed-bean>
        <managed-bean-name>showEmployeeBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.ShowEmployeeBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>editSavedRequestBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.requests.EditSavedRequestsBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>

    </managed-bean>

    <managed-bean>
        <managed-bean-name>inpatientBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.requests.InPatientRequestsBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>dashboardBean</property-name>
            <value>#{dashboardBean}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>redistributeRequestsBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.requests.RedistributeRequestsBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>changeFileStatusBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.ChangeFileStatusBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>viewHelper</property-name>
            <value>#{viewHelper}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>editRequestBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.EditRequestDetailsBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>failedRequestsBean</property-name>
            <value>#{failedRequestsBean}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>failedRequestsBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.FailedRequestsBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>fileManagementBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.FileManagementBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>fileWizard</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.FileUploadWizardBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>failedRequestsBean</property-name>
            <value>#{failedRequestsBean}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>fileDetailsBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.ShowFileDetailsBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>helperBean</property-name>
            <value>#{viewHelper}</value>
        </managed-property>
    </managed-bean>


    <managed-bean>
        <managed-bean-name>showFilesBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.ShowFilesBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>viewHelper</property-name>
            <value>#{viewHelper}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>viewHelper</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.files.ViewHelperBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>cssBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.css.AlfahresCssBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>


    <managed-bean>
        <managed-bean-name>addClinic</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.clinics.AddClinicBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>

    </managed-bean>

    <managed-bean>
        <managed-bean-name>clinicManagementBean</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.clinics.ClinicManagementBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>permissionVerifier</managed-bean-name>
        <managed-bean-class>com.degla.security.PermissionVerifier</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>dashboardBean</property-name>
            <value>#{dashboardBean}</value>
        </managed-property>
    </managed-bean>


    <managed-bean>
        <managed-bean-name>viewstats</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.stats.ViewStatisticsBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>viewHelper</property-name>
            <value>#{viewHelper}</value>
        </managed-property>


    </managed-bean>


    <managed-bean>
        <managed-bean-name>metrics</managed-bean-name>
        <managed-bean-class>com.alfahres.beans.dashboard.DashboardMetrics</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

    </managed-bean>



</faces-config>